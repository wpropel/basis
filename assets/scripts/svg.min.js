var observer=new MutationObserver(function(mutations){for(var i=0;i<mutations.length;i++)for(var j=0;j<mutations[i].addedNodes.length;j++)if(element=$(mutations[i].addedNodes[j]),element.attr("class")&&(elementClass=element.attr("class"),-1!=element.attr("class").indexOf("attachment")&&(attachmentPreview=element.children(".attachment-preview"),0!=attachmentPreview.length&&-1!=attachmentPreview.attr("class").indexOf("subtype-svg+xml"))))(function(element){jQuery.ajax({url:ajaxurl,data:{action:"svg_get_attachment_url",attachmentID:element.attr("data-id")},success:function(data){data&&(element.find("img").attr("src",data),element.find(".filename").text("SVG Image"))}})})(element)});observer.observe(document.body,{childList:!0,subtree:!0});